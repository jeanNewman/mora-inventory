import{l as c,s as E,t as C,a8 as b,d as t,j as e,v as g,u as V,m as y,x as _,y as h,Q as q,z as x,n as P}from"./index.96bddb58.js";import{u as U}from"./usePasswordReset.1f3f82f2.js";import{Q,_ as R}from"./ErrorsBanner.330693ed.js";import"./QBanner.d21b6d31.js";const k={__name:"PasswordResetForm",props:{email:{required:!0,type:String},password:{required:!0,type:String},passwordConfirmation:{required:!0,type:String},validationErrors:{required:!1,type:Object,default(){return{}}}},emits:["update:email","update:password","update:passwordConfirmation"],setup(a,{emit:d}){return(l,r)=>(c(),E(e(Q),null,{default:C(()=>{var n,i,m,u,p,w,f,v,o;return[b(l.$slots,"top"),t(e(g),{filled:"",label:"Email","model-value":a.email,error:!!((n=a.validationErrors)!=null&&n.email),"error-message":(m=(i=a.validationErrors)==null?void 0:i.email)==null?void 0:m[0],class:"q-mb-md","hide-bottom-space":"","onUpdate:modelValue":r[0]||(r[0]=s=>d("update:email",s))},null,8,["model-value","error","error-message"]),t(e(g),{filled:"",label:"Password","model-value":a.password,error:!!((u=a.validationErrors)!=null&&u.password),"error-message":(w=(p=a.validationErrors)==null?void 0:p.password)==null?void 0:w[0],class:"q-mb-xs",type:"password","hide-bottom-space":"","onUpdate:modelValue":r[1]||(r[1]=s=>d("update:password",s))},null,8,["model-value","error","error-message"]),t(e(g),{filled:"",label:"Confirm Password","model-value":a.passwordConfirmation,error:!!((f=a.validationErrors)!=null&&f.password_confirmation),"error-message":(o=(v=a.validationErrors)==null?void 0:v.password_confirmation)==null?void 0:o[0],class:"q-mb-md",type:"password","hide-bottom-space":"","onUpdate:modelValue":r[2]||(r[2]=s=>d("update:passwordConfirmation",s))},null,8,["model-value","error","error-message"]),b(l.$slots,"bottom")]}),_:3}))}},$={key:0},B={__name:"PasswordResetCard",setup(a){const d=V(),{reset:l,resetPasswordForm:r,loading:n,hasValidationErrors:i,validationErrors:m,errors:u,resetErrors:p,hasErrors:w}=U();async function f(){await l(),w.value||d.push({name:"dashboard"})}return(v,o)=>(c(),E(e(x),null,{default:C(()=>[t(e(h),{class:"text-center q-pb-sm"},{default:C(()=>[t(k,{email:e(r).email,"onUpdate:email":o[0]||(o[0]=s=>e(r).email=s),password:e(r).password,"onUpdate:password":o[1]||(o[1]=s=>e(r).password=s),passwordConfirmation:e(r).password_confirmation,"onUpdate:passwordConfirmation":o[2]||(o[2]=s=>e(r).password_confirmation=s),"validation-errors":e(m),"onUpdate:modelValue":e(p)},null,8,["email","password","passwordConfirmation","validation-errors","onUpdate:modelValue"]),e(i)?_("",!0):(c(),y("div",$,[t(R,{errors:e(u)},null,8,["errors"])]))]),_:1}),t(e(q),{loading:e(n),class:"full-width",color:"grey-8",label:"Change Password",unelevated:"",onClick:f},null,8,["loading"])]),_:1}))}},S={class:"flex flex-center",style:{"min-height":"100vh"},padding:""},F={class:"text-center"},N=P("h5",{class:"q-mb-md"}," Password Reset ",-1),A={__name:"PasswordResetViaEmailPage",setup(a){return(d,l)=>(c(),y("div",S,[P("div",F,[N,t(B)])]))}};export{A as default};
