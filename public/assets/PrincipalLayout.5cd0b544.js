import{h as D,y as F,c as $,I as $e,a7 as Le,a8 as Ue,a9 as Ve,r as g,aa as Oe,ab as De,ac as Ae,ad as He,ae as Ie,w as B,J as ee,af as te,ag as ae,L as Be,ah as Re,g as Fe,z as Me,Y as Ne,k as u,l as p,m as a,R as oe,j as r,S as O,p as E,d as t,q as T,Q as de,s as ce,ai as me,a2 as x,aj as je,V as fe,ak as ge,n as M,al as ze,a4 as ve,am as N,u as We,an as Je,ao as Ye,F as pe,U as Ge,ap as Ke,aq as Xe,x as A,a3 as re,v as Ze,a1 as et,ar as tt}from"./index.cf0f49d2.js";import{Q as j,a as at,b as ot}from"./QDrawer.4d083301.js";import{u as rt,v as le,a as lt,p as ne,b as nt,c as st,r as se,s as it,d as ie,e as ut,Q as L,f as z,g as we,h as dt,i as ct}from"./QMenu.3352f4a5.js";import{Q as W}from"./QToolbar.29665bc0.js";import{C as mt,Q as ft}from"./ClosePopup.a79f33ef.js";import{Q as gt,a as vt}from"./QLayout.9266d96c.js";import{Q as pt,_ as he}from"./ErrorsBanner.72fe4031.js";import{u as wt,_ as ht}from"./useLogin.eef426f9.js";import{_ as _t}from"./plugin-vue_export-helper.21dcd24c.js";import"./QResizeObserver.458075a7.js";import"./QBanner.888145eb.js";const yt=D("div",{class:"q-space"});var ue=F({name:"QSpace",setup(){return()=>yt}});const bt=["top","middle","bottom"];var Ct=F({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>bt.includes(e)}},setup(e,{slots:n}){const o=$(()=>e.align!==void 0?{verticalAlign:e.align}:null),l=$(()=>{const s=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(s!==void 0?` text-${s}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>D("div",{class:l.value,style:o.value,role:"alert","aria-label":e.label},$e(n.default,e.label!==void 0?[e.label]:[]))}}),R=F({name:"QTooltip",inheritAttrs:!1,props:{...rt,...Le,...Ue,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:le},self:{type:String,default:"top middle",validator:le},offset:{type:Array,default:()=>[14,14],validator:lt},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Ve],setup(e,{slots:n,emit:o,attrs:l}){let s,d;const h=Fe(),{proxy:{$q:i}}=h,c=g(null),m=g(!1),v=$(()=>ne(e.anchor,i.lang.rtl)),S=$(()=>ne(e.self,i.lang.rtl)),Q=$(()=>e.persistent!==!0),{registerTick:b,removeTick:_}=Oe(),{registerTimeout:P,removeTimeout:w}=De(),{transition:y,transitionStyle:C}=Ae(e,m),{localScrollTarget:J,changeScrollEvent:_e,unconfigureScrollTarget:ye}=nt(e,X),{anchorEl:k,canShow:be,anchorEvents:U}=st({showing:m,configureAnchorEl:Qe}),{show:Ce,hide:H}=He({showing:m,canShow:be,handleShow:ke,handleHide:xe,hideOnRouteChange:Q,processOnMount:!0});Object.assign(U,{delayShow:Se,delayHide:Ee});const{showPortal:Y,hidePortal:G,renderPortal:Pe}=Ie(h,c,Te);if(i.platform.is.mobile===!0){const f={anchorEl:k,innerRef:c,onClickOutside(q){return H(q),q.target.classList.contains("q-dialog__backdrop")&&Ne(q),!0}},I=$(()=>e.modelValue===null&&e.persistent!==!0&&m.value===!0);B(I,q=>{(q===!0?ut:se)(f)}),ee(()=>{se(f)})}function ke(f){_(),w(),Y(),b(()=>{d=new MutationObserver(()=>V()),d.observe(c.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),V(),X()}),s===void 0&&(s=B(()=>i.screen.width+"|"+i.screen.height+"|"+e.self+"|"+e.anchor+"|"+i.lang.rtl,V)),P(()=>{Y(!0),o("show",f)},e.transitionDuration)}function xe(f){_(),w(),G(),K(),P(()=>{G(!0),o("hide",f)},e.transitionDuration)}function K(){d!==void 0&&(d.disconnect(),d=void 0),s!==void 0&&(s(),s=void 0),ye(),te(U,"tooltipTemp")}function V(){const f=c.value;k.value===null||!f||it({el:f,offset:e.offset,anchorEl:k.value,anchorOrigin:v.value,selfOrigin:S.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Se(f){if(i.platform.is.mobile===!0){ie(),document.body.classList.add("non-selectable");const I=k.value,q=["touchmove","touchcancel","touchend","click"].map(Z=>[I,Z,"delayHide","passiveCapture"]);ae(U,"tooltipTemp",q)}P(()=>{Ce(f)},e.delay)}function Ee(f){w(),i.platform.is.mobile===!0&&(te(U,"tooltipTemp"),ie(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),P(()=>{H(f)},e.hideDelay)}function Qe(){if(e.noParentEvent===!0||k.value===null)return;const f=i.platform.is.mobile===!0?[[k.value,"touchstart","delayShow","passive"]]:[[k.value,"mouseenter","delayShow","passive"],[k.value,"mouseleave","delayHide","passive"]];ae(U,"anchor",f)}function X(){if(k.value!==null||e.scrollTarget!==void 0){J.value=Be(k.value,e.scrollTarget);const f=e.noParentEvent===!0?V:H;_e(J.value,f)}}function qe(){return m.value===!0?D("div",{...l,ref:c,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",l.class],style:[l.style,C.value],role:"complementary"},Me(n.default)):null}function Te(){return D(Re,{name:y.value,appear:!0},qe)}return ee(K),Object.assign(h.proxy,{updatePosition:V}),Pe}}),Pt="/assets/logo.3dcf6567.png";const kt={__name:"UpdatePasswordForm",props:{email:{required:!1,type:String,default:null},currentPassword:{required:!1,type:String,default:null},password:{required:!0,type:String},passwordConfirmation:{required:!1,type:String,default:null},validationErrors:{required:!1,type:Object,default(){return{}}}},emits:["update:email","update:currentPassword","update:password","update:passwordConfirmation"],setup(e,{emit:n}){return(o,l)=>(u(),p(r(pt),null,{default:a(()=>{var s,d,h,i,c,m,v,S,Q,b,_,P;return[oe(o.$slots,"top"),typeof e.email=="string"?(u(),p(r(O),{key:0,filled:"",label:"Email","model-value":e.email,error:!!((s=e.validationErrors)!=null&&s.email),"error-message":(h=(d=e.validationErrors)==null?void 0:d.email)==null?void 0:h[0],class:"q-mb-md","hide-bottom-space":"","onUpdate:modelValue":l[0]||(l[0]=w=>n("update:email",w))},null,8,["model-value","error","error-message"])):E("",!0),typeof e.currentPassword=="string"?(u(),p(r(O),{key:1,filled:"",type:"password",label:"Current Password","model-value":e.currentPassword,error:!!((i=e.validationErrors)!=null&&i.current_password),"error-message":(m=(c=e.validationErrors)==null?void 0:c.current_password)==null?void 0:m[0],class:"q-mb-lg","hide-bottom-space":"","onUpdate:modelValue":l[1]||(l[1]=w=>n("update:currentPassword",w))},null,8,["model-value","error","error-message"])):E("",!0),typeof e.password=="string"?(u(),p(r(O),{key:2,filled:"",type:"password",label:"New Password","model-value":e.password,error:!!((v=e.validationErrors)!=null&&v.password),"error-message":(Q=(S=e.validationErrors)==null?void 0:S.password)==null?void 0:Q[0],class:"q-mb-sm","hide-bottom-space":"","onUpdate:modelValue":l[2]||(l[2]=w=>n("update:password",w))},null,8,["model-value","error","error-message"])):E("",!0),typeof e.passwordConfirmation=="string"?(u(),p(r(O),{key:3,filled:"",type:"password",label:"Confirm New Password","model-value":e.passwordConfirmation,error:!!((b=e.validationErrors)!=null&&b.password_confirmation),"error-message":(P=(_=e.validationErrors)==null?void 0:_.password_confirmation)==null?void 0:P[0],class:"q-mb-sm","hide-bottom-space":"","onUpdate:modelValue":l[3]||(l[3]=w=>n("update:passwordConfirmation",w))},null,8,["model-value","error","error-message"])):E("",!0),oe(o.$slots,"bottom")]}),_:3}))}},xt=x("Confirm Identity"),St=x(" When making sensitive changes to your account, we ask you to login again if it's been a while. "),Et={__name:"ReauthenticateDialog",setup(e){const{isReauthenticating:n,form:o,validationErrors:l,login:s,hasErrors:d,errors:h,loading:i,resetForm:c,attemptSetEmailOnForm:m}=wt();n.value=!0;const v=g();m();async function S(){await s(),d.value||v.value.hide()}return(Q,b)=>(u(),p(me,{ref_key:"dialogComponent",ref:v,onHide:r(c),onShow:r(m)},{default:a(()=>[t(ce,{style:{"max-width":"300px"},class:"full-width"},{default:a(()=>[t(W,null,{default:a(()=>[t(j,null,{default:a(()=>[xt]),_:1}),t(T,{icon:"question_mark",color:"primary",size:"sm",round:"",flat:""},{default:a(()=>[t(R,{class:"bg-primary","max-width":"300px",style:{"font-size":"1.2em"},anchor:"bottom right",self:"top right"},{default:a(()=>[St]),_:1})]),_:1})]),_:1}),t(de,null,{default:a(()=>[t(ht,{email:r(o).email,"onUpdate:email":b[0]||(b[0]=_=>r(o).email=_),password:r(o).password,"onUpdate:password":b[1]||(b[1]=_=>r(o).password=_),"validation-errors":r(l)},null,8,["email","password","validation-errors"]),r(d)?(u(),p(he,{key:0,errors:r(h)},null,8,["errors"])):E("",!0)]),_:1}),t(T,{class:"full-width",label:"Login",color:"primary",loading:r(i),onClick:S},null,8,["loading"])]),_:1})]),_:1},8,["onHide","onShow"]))}};var Qt=()=>{const{form:e,update:n,loading:o,errors:l,hasErrors:s,validationErrors:d,hasValidationErrors:h,requiresReauthentication:i,resetErrors:c,resetForm:m}=je();return{update:n,form:e,resetForm:m,loading:o,requiresReauthentication:i,errors:l,hasErrors:s,validationErrors:d,hasValidationErrors:h,resetErrors:c}};const qt=x("Change Password"),Tt={key:0},$t={__name:"UpdatePasswordDialog",setup(e){var P;const n=g(),{form:o,loading:l,requiresReauthentication:s,errors:d,hasErrors:h,update:i,validationErrors:c,hasValidationErrors:m,resetErrors:v,resetForm:S}=Qt();async function Q(){v(),await i(),h.value||n.value.hide()}const{user:b}=fe();typeof o.value.email=="string"&&((P=b.value)==null?void 0:P.email)&&(o.value.email=b.value.email);const _=g(!1);return s!==void 0&&B(s,w=>{w&&(_.value=!0)}),(w,y)=>(u(),p(me,ve({ref_key:"dialogComponent",ref:n},w.$attrs,{onHide:r(S)}),{default:a(()=>[t(ce,null,{default:a(()=>[t(W,null,{default:a(()=>[t(j,null,{default:a(()=>[qt]),_:1}),ge(t(T,{icon:"close",round:"",flat:""},null,512),[[mt]])]),_:1}),t(de,null,{default:a(()=>[t(kt,{email:r(o).email,"onUpdate:email":y[0]||(y[0]=C=>r(o).email=C),"current-password":r(o).current_password,"onUpdate:current-password":y[1]||(y[1]=C=>r(o).current_password=C),password:r(o).password,"onUpdate:password":y[2]||(y[2]=C=>r(o).password=C),"password-confirmation":r(o).password_confirmation,"onUpdate:password-confirmation":y[3]||(y[3]=C=>r(o).password_confirmation=C),"validation-errors":r(c)},null,8,["email","current-password","password","password-confirmation","validation-errors"]),r(m)?E("",!0):(u(),M("div",Tt,[t(he,{errors:r(d)},null,8,["errors"])]))]),_:1}),t(T,{label:"update",loading:r(l),class:"full-width",color:"primary",onClick:Q,onContextmenu:y[4]||(y[4]=ze(C=>_.value=!0,["prevent"]))},null,8,["loading"]),r(s)!==void 0?(u(),p(Et,{key:0,modelValue:_.value,"onUpdate:modelValue":y[5]||(y[5]=C=>_.value=C)},null,8,["modelValue"])):E("",!0)]),_:1})]),_:1},16,["onHide"]))}},Lt={},Ut=x(" Change Password ");function Vt(e,n){return u(),p(z,ve({clickable:""},e.$attrs),{default:a(()=>[t(L,{side:""},{default:a(()=>[t(N,{name:"key"})]),_:1}),t(L,null,{default:a(()=>[Ut]),_:1})]),_:1},16)}var Ot=_t(Lt,[["render",Vt]]),Dt=()=>{const e=We(),{logout:n,loading:o}=Je();async function l(){await n(),e.push("/login")}return{logout:n,loading:o,onLogoutClicked:l}};const At=x(" Logout "),Ht={__name:"LogoutItem",setup(e){const{loading:n,onLogoutClicked:o}=Dt();return(l,s)=>(u(),p(z,{clickable:"",onClick:r(o)},{default:a(()=>[t(L,{side:""},{default:a(()=>[r(n)?(u(),p(Ye,{key:1,size:"sm",color:"primary"})):(u(),p(N,{key:0,name:"logout"}))]),_:1}),t(L,null,{default:a(()=>[At]),_:1})]),_:1},8,["onClick"]))}},It={__name:"AccountMenu",setup(e){const n=g(!1);return(o,l)=>(u(),M(pe,null,[t(dt,{"auto-close":""},{default:a(()=>[t(we,null,{default:a(()=>[t(Ht),t(Ot,{onClick:l[0]||(l[0]=s=>n.value=!0)})]),_:1})]),_:1}),t($t,{modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=s=>n.value=s)},null,8,["modelValue"])],64))}};const Bt=A("img",{src:Pt},null,-1),Rt={class:"q-ml-sm"},Ft={class:"q-gutter-sm row items-center no-wrap"},Mt=x(" 2 "),Nt=x("Notificaciones"),jt=A("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),zt=x("Usuario"),ra={__name:"PrincipalLayout",setup(e){const{user:n}=fe();Ge();const o=g(!1);g(""),g(!1),g(!1),g(""),g(""),g(""),g(""),g("Any time");function l(){o.value=!o.value}const s=Ke();s.charAt(0).toUpperCase()+s.slice(1);const d=g(n.value.email),h=g([{icon:"web",text:"Escritorio",route:"/dashboard"},{icon:"memory",text:"Plantilla de Inventario",route:"/managerinventorytemplate"},{icon:"star_border",text:"Inventario F\xEDsico",route:"/managerinventory"}]);return(i,c)=>{const m=Xe("router-view");return u(),p(gt,{view:"hHh lpR fFf",class:"bg-grey-1"},{default:a(()=>[t(at,{elevated:"",class:"bg-white text-grey-8","height-hint":"64"},{default:a(()=>[t(W,{class:"__toolbar"},{default:a(()=>[t(T,{flat:"",dense:"",round:"",onClick:l,"aria-label":"Menu",icon:"menu",class:"q-mr-sm"}),i.$q.screen.width>400?(u(),p(j,{key:0,shrink:"",class:"row items-center no-wrap"},{default:a(()=>[Bt,A("span",Rt,re(d.value),1)]),_:1})):E("",!0),t(ue),t(ue),A("div",Ft,[t(T,{round:"",dense:"",flat:"",color:"grey-8",icon:"notifications"},{default:a(()=>[t(Ct,{color:"red","text-color":"white",floating:""},{default:a(()=>[Mt]),_:1}),t(R,null,{default:a(()=>[Nt]),_:1})]),_:1}),t(T,{round:"",flat:""},{default:a(()=>[t(Ze,{size:"26px"},{default:a(()=>[jt]),_:1}),t(R,null,{default:a(()=>[zt]),_:1}),t(It)]),_:1})])]),_:1})]),_:1}),t(ot,{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=v=>o.value=v),"show-if-above":"",bordered:"",class:"bg-white",width:240},{default:a(()=>[t(ft,{class:"fit"},{default:a(()=>[t(we,{padding:"",class:"text-grey-8"},{default:a(()=>[(u(!0),M(pe,null,et(h.value,v=>ge((u(),p(z,{class:"__drawer-item",key:v.text,clickable:"",to:v.route},{default:a(()=>[t(L,{avatar:""},{default:a(()=>[t(N,{name:v.icon},null,8,["name"])]),_:2},1024),t(L,null,{default:a(()=>[t(ct,null,{default:a(()=>[x(re(v.text),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])),[[tt]])),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(vt,null,{default:a(()=>[t(m)]),_:1})]),_:1})}}};export{ra as default};
